<%- include('partials/header') %>

<div class="form-section">
  <h2><i class="fa-solid fa-plus"></i> Adicionar Novo Certificado</h2>
  <form action="/certificados" method="POST">
    <input type="text" name="titulo" placeholder="Título do certificado" required>
    <input type="text" name="emissor" placeholder="Instituição emissora" required>
    <input type="text" name="ano" placeholder="Ano" required>
    <button type="submit">Adicionar Certificado</button>
  </form>
</div>

<h2><i class="fa-solid fa-medal"></i> Certificados Cadastrados</h2>
<% if (certificados.length === 0) { %>
  <p>Nenhum certificado cadastrado.</p>
<% } else { %>
  <div class="card-grid"> <% certificados.forEach(c => { %>
      <div class="card">
        <h3><%= c.titulo %></h3>
        <p><%= c.emissor %></p>
        <p><strong>Ano:</strong> <%= c.ano %></p>

        <form action="/certificados/<%= c.id %>?_method=PUT" method="POST">
          <input type="text" name="titulo" value="<%= c.titulo %>">
          <input type="text" name="emissor" value="<%= c.emissor %>">
          <input type="text" name="ano" value="<%= c.ano %>">
          
          <div class="card-actions">
            <button type="submit">✏️ Atualizar</button>
          </form>
          
          <form action="/certificados/<%= c.id %>?_method=DELETE" method="POST">
            <button type="submit" class="btn-delete">🗑️ Excluir</button>
          </form>
        </div>
      </div>
    <% }) %>
  </div>
<% } %>

<%- include('partials/footer') %>